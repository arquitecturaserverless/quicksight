<!DOCTYPE html>
<html>
<head>
    <title>Integraci√≥n de QuickSight</title>
    <script src="https://unpkg.com/amazon-quicksight-embedding-sdk@2.7.0/dist/quicksight-embedding-js-sdk.min.js"></script>
    <script type="text/javascript">
        const embedGenerativeQnA = async() => {    
            const {createEmbeddingContext} = QuickSightEmbedding;

            const embeddingContext = await createEmbeddingContext({
                onChange: (changeEvent, metadata) => {
                    console.log('Context received a change', changeEvent, metadata);
                },
            });

            const frameOptions = {
                url: "https://us-west-2.quicksight.aws.amazon.com/embed/4c0a416e735249728774a50f80d10a3c/dashboards/gfg-Topic-Id-Indicadores-Acumulados-Flujos?code=AYABeIkrtmdi5SwRQpi163DMVJAAAAABAAdhd3Mta21zAEthcm46YXdzOmttczp1cy13ZXN0LTI6OTAwNjQ5NDI3MTk2OmtleS9iYzAzMTYzMy0xYzJiLTRlMzEtYWM5ZC0yODQ2NDkwZjEyM2YAuAECAQB4GTrtGnufGqRpvDXN80qWQP5C5v67xRWfqbMppBQ52E8BlRyPcNNTGRuvbY1N0yRvhQAAAH4wfAYJKoZIhvcNAQcGoG8wbQIBADBoBgkqhkiG9w0BBwEwHgYJYIZIAWUDBAEuMBEEDE34pvG8QM358x5CggIBEIA7yJ8BNgkxAeGPRruTpBySOj0gU7CTP_5S9VG7-r-CpCcgXvKbtYQF_FR4WabqxdY2fTCW3kL1qSiCaswCAAAAAAwAABAAAAAAAAAAAAAAAAAAMalcZ98Ss6PSsPrmDtf_ZP____8AAAABAAAAAAAAAAAAAAABAAAAm3aRIvoGlIbUMtE6NE0YBNpFEzRx7MypUOMOQ5Nm7YNqsg54_SRjF-qiNjngPYfzaZiKZOnG4e20MpdglngegkqK8T4tVDM1EzSIG9DboVm33-ZxRhvu4xWWZIYgf-1oUhUyNg1mN3JQhEE9ukxZNhEDxxnesXMKW7hGRosnBmmL43HpuINAa6vcUjj_f-ZLKDzSQIkBzrUOrRi32bAyIKJJNnVWfODGdV5_Hg%3D%3D&identityprovider=quicksight&isauthcode=true",
                container: '#experience-container',
                height: "700px",
                width: "1000px",
                onChange: (changeEvent, metadata) => {
                    switch (changeEvent.eventName) {
                        case 'FRAME_MOUNTED': {
                            console.log("Do something when the experience frame is mounted.");
                            break;
                        }
                        case 'FRAME_LOADED': {
                            console.log("Do something when the experience frame is loaded.");
                            break;
                        }
                    }
                },
            };

            const contentOptions = {
                panelOptions: {
                    panelType: 'FULL',
                    title: 'custom title', // Optional
                    showQIcon: false, // Optional, Default: true
                },
                showTopicName: false, // Optional, Default: true
                showPinboard: false, // Optional, Default: true
                allowTopicSelection: false, // Optional, Default: true
                allowFullscreen: false, // Optional, Default: true
                searchPlaceholderText: "custom search placeholder", // Optional
                themeOptions: { // Optional
                    themeArn: 'arn:aws:quicksight:<Region>:<AWS-Account-ID>:theme/<Theme-ID>'
                },
                onMessage: async (messageEvent, experienceMetadata) => {
                    switch (messageEvent.eventName) {
                        case 'Q_SEARCH_OPENED': {
                            console.log("Do something when SEARCH_BAR type panel is expanded");
                            break;
                        }
                        case 'Q_SEARCH_FOCUSED': {
                            console.log("Do something when SEARCH_BAR type panel is focused");
                            break;
                        }
                        case 'Q_SEARCH_CLOSED': {
                            console.log("Do something when SEARCH_BAR type panel is collapsed");
                            break;
                        }
                        case 'Q_PANEL_ENTERED_FULLSCREEN': {
                            console.log("Do something when panel enters full screen mode");
                            break;
                        }
                        case 'Q_PANEL_EXITED_FULLSCREEN': {
                            console.log("Do something when panel exits full screen mode");
                            break;
                        }
                        case 'CONTENT_LOADED': {
                            console.log("Do something after experience is loaded");
                            break;
                        }
                        case 'ERROR_OCCURRED': {
                            console.log("Do something when experience fails to load");
                            break;
                        }
                    }
                }
            };
            const embeddedGenerativeQnExperience = await embeddingContext.embedGenerativeQnA(frameOptions, contentOptions);
        };
    </script>
</head>
<body onload="embedGenerativeQnA()">
	<header>
		<img id="CobisTopazLogo" src="COBIS-TOPAZ.png" alt="Cobis Topaz" width="250">
	</header>
	<center>
		<iframe
			width="960"
			height="720"
			src="https://us-west-2.quicksight.aws.amazon.com/sn/embed/share/accounts/681989517074/dashboards/gfg-Dashboard-Id-Presentacion-BAM-Workflow?directory_alias=cobis-poc-dev">
		</iframe>
		<div id="experience-container">
			<iframe
			width="960"
			height="720"
			src="https://us-west-2.quicksight.aws.amazon.com/embed/4c0a416e735249728774a50f80d10a3c/dashboards/gfg-Topic-Id-Indicadores-Acumulados-Flujos?code=AYABeIkrtmdi5SwRQpi163DMVJAAAAABAAdhd3Mta21zAEthcm46YXdzOmttczp1cy13ZXN0LTI6OTAwNjQ5NDI3MTk2OmtleS9iYzAzMTYzMy0xYzJiLTRlMzEtYWM5ZC0yODQ2NDkwZjEyM2YAuAECAQB4GTrtGnufGqRpvDXN80qWQP5C5v67xRWfqbMppBQ52E8BlRyPcNNTGRuvbY1N0yRvhQAAAH4wfAYJKoZIhvcNAQcGoG8wbQIBADBoBgkqhkiG9w0BBwEwHgYJYIZIAWUDBAEuMBEEDE34pvG8QM358x5CggIBEIA7yJ8BNgkxAeGPRruTpBySOj0gU7CTP_5S9VG7-r-CpCcgXvKbtYQF_FR4WabqxdY2fTCW3kL1qSiCaswCAAAAAAwAABAAAAAAAAAAAAAAAAAAMalcZ98Ss6PSsPrmDtf_ZP____8AAAABAAAAAAAAAAAAAAABAAAAm3aRIvoGlIbUMtE6NE0YBNpFEzRx7MypUOMOQ5Nm7YNqsg54_SRjF-qiNjngPYfzaZiKZOnG4e20MpdglngegkqK8T4tVDM1EzSIG9DboVm33-ZxRhvu4xWWZIYgf-1oUhUyNg1mN3JQhEE9ukxZNhEDxxnesXMKW7hGRosnBmmL43HpuINAa6vcUjj_f-ZLKDzSQIkBzrUOrRi32bAyIKJJNnVWfODGdV5_Hg%3D%3D&identityprovider=quicksight&isauthcode=true">
            </iframe>
        </div>
	</center>


</body>
</html>
